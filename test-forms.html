<!DOCTYPE html>
<html>
<head>
    <title>Form Testing Page</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ccc; }
        button { padding: 10px 20px; margin: 10px; background: #007cba; color: white; border: none; cursor: pointer; }
        .log { background: #f5f5f5; padding: 10px; margin: 10px 0; font-family: monospace; }
    </style>
</head>
<body>
    <h1>Form Testing Automation - Separate Sheets</h1>

    <div class="test-section">
        <h2>üü¢ Test Contact Form ‚Üí "Contact Forms" Sheet</h2>
        <p>Contact forms save to <strong>"Contact Forms"</strong> sheet with green headers</p>
        <button onclick="testContactForm()">Test Contact Form</button>
        <div id="contactLog" class="log"></div>
    </div>

    <div class="test-section">
        <h2>üîµ Test Teaching Application ‚Üí "Teaching Applications" Sheet</h2>
        <p>Teaching applications save to <strong>"Teaching Applications"</strong> sheet with blue headers</p>
        <button onclick="testTeachingApplication()">Test Teaching Application</button>
        <div id="teachingLog" class="log"></div>
    </div>

    <script>
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyai9isLfpkKvfU38tAimep8HfhMsGncA0_eBJcQx_p9133VBbhbfd9G2oGgpQLbAdlQg/exec';

        function log(elementId, message) {
            const logElement = document.getElementById(elementId);
            logElement.innerHTML += new Date().toLocaleTimeString() + ': ' + message + '<br>';
        }

        async function testContactForm() {
            log('contactLog', 'Testing Contact Form...');
            
            const formData = new FormData();
            formData.append('name', 'Test User ' + Math.floor(Math.random() * 1000));
            formData.append('email', 'test' + Math.floor(Math.random() * 1000) + '@example.com');
            formData.append('phone', '98765' + Math.floor(Math.random() * 10000));
            formData.append('message', 'This is a test message sent on ' + new Date().toLocaleString());
            formData.append('type', 'contact_form');

            log('contactLog', 'Form data prepared:');
            log('contactLog', '- Name: ' + formData.get('name'));
            log('contactLog', '- Email: ' + formData.get('email'));
            log('contactLog', '- Phone: ' + formData.get('phone'));
            log('contactLog', '- Message: ' + formData.get('message'));
            log('contactLog', '- Type: ' + formData.get('type'));

            try {
                log('contactLog', 'Submitting to: ' + GOOGLE_SCRIPT_URL);
                const response = await fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    body: formData
                });
                
                log('contactLog', '‚úÖ Contact form submitted successfully (no-cors mode)');
                log('contactLog', 'üìã Check "Contact Forms" sheet (Green headers): https://docs.google.com/spreadsheets/d/1bkmRNswujvbKazCcHKn29Mag2SPl4g0e0z2m3AsmlXk');
                log('contactLog', 'üü¢ Data saved to: Contact Forms sheet with green headers');
            } catch (error) {
                log('contactLog', '‚ùå Error: ' + error.message);
            }
        }

        async function testTeachingApplication() {
            log('teachingLog', 'Testing Teaching Application...');
            
            const formData = new FormData();
            formData.append('fullName', 'Jane Teacher ' + Math.floor(Math.random() * 1000));
            formData.append('email', 'teacher' + Math.floor(Math.random() * 1000) + '@example.com');
            formData.append('phone', '91234' + Math.floor(Math.random() * 10000));
            formData.append('position', 'Mathematics Teacher');
            formData.append('qualification', 'M.Sc Mathematics, B.Ed');
            formData.append('experience', '3-5 years');
            formData.append('subjects', 'Mathematics, Physics');
            formData.append('currentSalary', '25000');
            formData.append('expectedSalary', '30000');
            formData.append('availableFrom', '2024-02-01');
            formData.append('coverLetter', 'I am passionate about teaching mathematics and would love to join your school. This is a test application.');
            formData.append('references', 'Dr. ABC - Principal - abc@school.com - 9876543210');
            formData.append('type', 'teaching_application');

            log('teachingLog', 'Teaching application data prepared:');
            log('teachingLog', '- Full Name: ' + formData.get('fullName'));
            log('teachingLog', '- Email: ' + formData.get('email'));
            log('teachingLog', '- Phone: ' + formData.get('phone'));
            log('teachingLog', '- Position: ' + formData.get('position'));
            log('teachingLog', '- Type: ' + formData.get('type'));

            try {
                log('teachingLog', 'Submitting to: ' + GOOGLE_SCRIPT_URL);
                const response = await fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    body: formData
                });
                
                log('teachingLog', '‚úÖ Teaching application submitted successfully (no-cors mode)');
                log('teachingLog', 'üìã Check "Teaching Applications" sheet (Blue headers): https://docs.google.com/spreadsheets/d/1bkmRNswujvbKazCcHKn29Mag2SPl4g0e0z2m3AsmlXk');
                log('teachingLog', 'üîµ Data saved to: Teaching Applications sheet with blue headers');
            } catch (error) {
                log('teachingLog', '‚ùå Error: ' + error.message);
            }
        }

        // Auto-test both forms when page loads
        window.onload = function() {
            log('contactLog', 'Form testing page loaded. Click buttons to test forms.');
            log('teachingLog', 'Form testing page loaded. Click buttons to test forms.');
        };
    </script>
</body>
</html>
